d2 <- unnest_auto(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`
, cols = everything())
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`
, cols = everything())
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`
, cols = everything()
,names_repair = "unique")
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`)
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`))
View(d2)
d2 <- unnest_wider(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`))
d2 <- unnest_wider(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "unique")
View(d2)
d2 <- unnest_wider(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "minimal")
View(d2)
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "unique")
View(d2)
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "minimal")
View(d2)
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,
col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),
names_repair = "minimal") %>%
mutate(year = gsub("\\D", "", colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`))) %>%
pivot_wider(names_from = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),
values_from = value,
values_fn = list) %>%
unnest()
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,
col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),
names_repair = "minimal") %>%
mutate(year = rep(gsub("\\D", "", colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`)),
nrow(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`))) %>%
pivot_wider(names_from = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),
values_from = value,
values_fn = list) %>%
unnest()
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "check_unique")
View(d2)
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "universal")
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "minimal", simplify = TRUE)
View(d2)
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`))
View(d2)
colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`)
View(d2)
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`))
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "minimal")
View(d2)
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "minimal", .id = year)
View(d2)
unlist(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`)
d3 <-unlist(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`)
d3 <-unlist(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`, recursive = FALSE, use.names = TRUE)
View(d3)
d3  <- unlist(d3)
d3 <-unlist(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`, recursive = FALSE, use.names = TRUE)
View(d2)
View(d3)
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "minimal", simplify = TRUE )
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "check_unique", simplify = TRUE )
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "check_unique")
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "unique")
View(d2)
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "minimal")
View(d2)
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "universal")
View(d2)
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`))
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_sep = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`))
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "check_unique"))
d2 <- unnest(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "check_unique")
d2 <- unnest_wider(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "minimal")
View(d2)
d2 <- unnest_longer(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`,col = colnames(`Valor médio da pesca descarregada (€/ kg) por Porto de descarga e Espécie; Anual - DGRM, DRP RAA, DRP RAM, Descarga de pesca em portos nacionais`),names_repair = "minimal")
View(d2)
# https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011613&Dim1=T&lang=PT
numbers <- Indicadores$`Código de difusão`
l <- length(numbers)
for(i in 1:l ){
# assign(numbers[i],fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=",numbers[i],"&Dim1=T&lang=PT")))
result <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=",numbers[i],"&Dim1=T&lang=PT"))
if (!("IndicadorCod" %in% colnames(result))) {
numbers <- numbers[-i]
l <- l - 1
i <- i - 1
} else {
assign(result$IndicadorDsg,as.data.frame(result$Dados))
d2 <- unnest_longer(result$IndicadorDsg,col = colnames(result$IndicadorDsg),names_repair = "minimal")
write.csv(d2,file = paste0("datasets/",result$IndicadorDsg))
}
if (i %% 100 == 0) {
Sys.sleep(60)
}
}
# https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011613&Dim1=T&lang=PT
numbers <- Indicadores$`Código de difusão`
l <- length(numbers)
for(i in 1:l ){
# assign(numbers[i],fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=",numbers[i],"&Dim1=T&lang=PT")))
result <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=",numbers[i],"&Dim1=T&lang=PT"))
if (!("IndicadorCod" %in% colnames(result))) {
numbers <- numbers[-i]
l <- l - 1
i <- i - 1
} else {
assign(result$IndicadorDsg,as.data.frame(result$Dados))
d2 <- unnest_longer(result$Dados,col = colnames(result$IndicadorDsg),names_repair = "minimal")
write.csv(d2,file = paste0("datasets/",result$IndicadorDsg))
}
if (i %% 100 == 0) {
Sys.sleep(60)
}
}
write.csv(d2,file = paste0("datasets/",result$IndicadorDsg))
write.csv(d2,file = paste0("datasets/",result$IndicadorDsg,".csv"))
write.csv(d2,file = paste0("/datasets/",result$IndicadorDsg,".csv"))
write_csv2(d2,file = paste0("/datasets/",result$IndicadorDsg,".csv"))
write_csv2(d2,file = paste0("datasets/",result$IndicadorDsg,".csv"))
write_csv(d2,file = paste0("datasets/",result$IndicadorDsg,".csv"))
write_csv(d2,file = paste0("datasets/",result$IndicadorDsg,".csv"))
write_csv(d2,file = paste0("datasets/",numbers[i],".csv"))
# https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011613&Dim1=T&lang=PT
numbers <- Indicadores$`Código de difusão`
l <- length(numbers)
for(i in 1:l ){
# assign(numbers[i],fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=",numbers[i],"&Dim1=T&lang=PT")))
result <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=",numbers[i],"&Dim1=T&lang=PT"))
if (!("IndicadorCod" %in% colnames(result))) {
numbers <- numbers[-i]
l <- l - 1
i <- i - 1
} else {
assign(result$IndicadorDsg,as.data.frame(result$Dados))
d2 <- unnest_longer(result$Dados,col = colnames(result$IndicadorDsg),names_repair = "minimal")
write_csv(d2,file = paste0("datasets/",numbers[i],".csv"))
}
if (i %% 100 == 0) {
Sys.sleep(60)
}
}
ls()
View(`População residente (N.º) por Local de residência (NUTS - 2002), Sexo e Grupo etário (Por ciclos de vida); Anual - INE, Estimativas anuais da população residente`)
View(`População residente (Série 1998 - N.º) por Local de residência (NUTS - 2002), Sexo e Grupo etário; Trimestral - INE, Inquérito ao emprego`)
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&lang=PT")
pop
View(`Subemprego visível (Série 1998 - N.º) por Local de residência (NUTS - 2002) e Sexo; Trimestral - INE, Inquérito ao emprego`)
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=3&varcd=0011626&Dim1=T&lang=PT")
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0008338&Dim1=T&lang=PT")
pop
View(pop)
View(pop[[17]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0008338&Dim1=T&lang=PT")
assign(pop,as.data.frame(result$Dados))
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0008338&Dim1=T&lang=PT")
assign(pop,as.data.frame(pop$Dados))
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0008338&Dim1=T&lang=PT")
pop<-as.data.frame(pop$Dados)
pop
View(pop)
View(pop[[11]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=T&lang=PT")
pop<-as.data.frame(pop$Dados)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=F&lang=PT")
pop<-as.data.frame(pop$Dados)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&lang=PT")
pop<-as.data.frame(pop$Dados)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&lang=PT")
#pop<-as.data.frame(pop$Dados)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=T&lang=PT")
#pop<-as.data.frame(pop$Dados)
pop
View(pop)
View(pop[[1]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&lang=PT")
#pop<-as.data.frame(pop$Dados)
pop
View(pop)
View(pop[[1]][[1]])
View(pop[[1]][[1]][[1]])
View(pop[[1]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&lang=PT")
pop<-as.data.frame(pop$Sucesso)
pop
View(pop)
View(pop[[1]][[1]])
pop <- fromJSON("https://www.ine.pt/ine/xml_indic.jsp?opc=1&varcd=0004167&lang=PT")
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0008338&Dim1=T&lang=PT", flatten = TRUE )
#pop<-as.data.frame(pop$Sucesso)
pop
View(pop)
View(pop[[7]][[1]])
View(pop[[18]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim2=T&lang=PT", flatten = TRUE)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim2=F&lang=PT", flatten = TRUE)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=F&lang=PT", flatten = TRUE)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&lang=PT", flatten = TRUE)
pop
# Installing the packages
install.packages("httr")
install.packages("jsonlite")
# Loading packages
library(httr)
library(jsonlite)
# Initializing API Call
call <- "https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&lang=PT"
# Getting details in API
get_movie_details <- GET(url = call)
# Getting status of HTTP Call
status_code(get_movie_details)
# Content in the API
str(content(get_movie_details))
# Converting content to text
get_movie_text <- content(get_movie_details,
"text", encoding = "UTF-8")
get_movie_text
# Parsing data in JSON
get_movie_json <- fromJSON(get_movie_text,
flatten = TRUE)
get_movie_json
install.packages("httr")
install.packages("jsonlite")
View(get_movie_json)
View(get_movie_json[[1]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=200lang=PT", flatten = TRUE)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim2=200lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[1]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=200&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[7]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=1111601&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[1]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=T&Dim3=1111601&lang=PT", flatten = TRUE)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=T&Dim3=T&Dim4=1111601&lang=PT", flatten = TRUE)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=T&Dim3=T&Dim4=T&Dim5+1111601&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[1]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=11&lang=PT", flatten = TRUE)
View(pop)
View(pop[[1]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=1&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[7]][[1]])
View(pop)
View(pop[[7]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim6=160101&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[1]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim5=160101&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[1]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=1&Dim3=11&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[1]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=1&Dim3=1&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[7]][[1]])
View(pop)
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=1&Dim3=1&Dim4=1&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[7]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=160104&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[7]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=11A0104&lang=PT", flatten = TRUE)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=0104%2C010402&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[7]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=010402&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[7]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=16C1401&lang=PT", flatten = TRUE)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=1401&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[7]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=1610101&lang=PT", flatten = TRUE)
pop
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=0101&lang=PT", flatten = TRUE)
pop
View(pop)
View(pop[[7]][[1]])
pop<-fromJSON("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=0101&lang=PT", flatten = TRUE)
pop<-as.data.frame(pop$Dados.2021)
pop
codigos_df <- read_excel("datasets/ref_geo.xlsx")
View(codigos_df)
View(pop)
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
result <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
assign(pop,as.data.frame(pop$Dados.2021))
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i=1){
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
result <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
assign(pop,as.data.frame(pop$Dados.2021))
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i==1){
d2 <- pop
}else{
d2 <- rbind(d2,pop)
}
}
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
pop <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
assign(pop,as.data.frame(pop$Dados.2021))
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i==1){
d2 <- pop
}else{
d2 <- rbind(d2,pop)
}
}
View(pop)
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
pop <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
assign(pop,as.data.frame(pop$Dados))
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i==1){
d2 <- pop
}else{
d2 <- rbind(d2,pop)
}
}
View(pop)
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
pop <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
assign(pop,as.data.frame(pop$Dados$2021))
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
pop <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
assign(pop,as.data.frame(pop$Dados$/2021))
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
pop <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
assign(pop,as.data.frame(pop$Dados$'2021'))
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i==1){
d2 <- pop
}else{
d2 <- rbind(d2,pop)
}
}
View(pop)
View(pop[[7]][[1]])
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
pop <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
assign(pop,as.data.frame(pop$Dados[1]))
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i==1){
d2 <- pop
}else{
d2 <- rbind(d2,pop)
}
}
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
pop <- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
assign(pop,as.data.frame(pop[7,1]))
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i==1){
d2 <- pop
}else{
d2 <- rbind(d2,pop)
}
}
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
result<- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
assign(pop,as.data.frame(result$Dados))
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i==1){
d2 <- pop
}else{
d2 <- rbind(d2,pop)
}
}
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
result<- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
pop <- as.data.frame(result$Dados)
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i==1){
d2 <- pop
}else{
d2 <- rbind(d2,pop)
}
}
write_csv(d2,file = paste0("datasets/",numbers[i],".csv"))
View(pop)
View(pop[[1]][[1]])
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
result<- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
pop <- as.data.frame(result$Dados$2021)
result$Dados$'2021'
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:2 ){
result<- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
pop <- as.data.frame(result$Dados$'2021')
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i==1){
d2 <- pop
}else{
d2 <- rbind(d2,pop)
}
}
write_csv(d2,file = paste0("datasets/",numbers[i],".csv"))
View(d2)
codigos_df <- read_excel("datasets/ref_geo.xlsx")
numbers <- codigos_df$last4
l <- length(numbers)
for(i in 1:l ){
result<- fromJSON(paste0("https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011626&Dim1=T&Dim2=",numbers[i],"&lang=PT"))
pop <- as.data.frame(result$Dados$'2021')
if (i %% 10 == 0) {
Sys.sleep(60)
}
if(i==1){
d2 <- pop
}else{
d2 <- rbind(d2,pop)
}
}
View(d2)
write_csv(d2,file = paste0("datasets/",numbers[i],".csv"))
View(d2)
write_csv(d2,file = paste0("datasets/pop_base_2021.csv"))
d3 <- d2%>%
select(-dim_3,-dim_4)%>%
pivot_wider(names_from = dim_4_t,values_from = valor)
View(d3)
View(d2)
str(d2)
