"0","#| code-fold: true"
"0","#| code-summary: ""Mostrar Código"""
"0","# https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0011613&Dim1=T&lang=PT"
"0",""
"0","numbers <- Indicadores$`Código de difusão`"
"2","Warning: Unknown or uninitialised column: `Código de difusão`."
"0","l <- length(numbers)"
"0",""
"0","for(i in 1:5 ){"
"0","    result <- fromJSON(paste0(""https://www.ine.pt/ine/json_indicador/pindica.jsp?op=2&varcd=0008614"",""&Dim1=T&lang=PT""))"
"0","  if (!(""IndicadorCod"" %in% colnames(result))) {"
"0","    numbers <- numbers[-i]"
"0","    l <- l - 1"
"0","    i <- i - 1"
"0","  } else {"
"0","    assign(result$IndicadorDsg,as.data.frame(result$Dados))"
"0","    d1 <- unnest_longer(result$Dados,col = colnames(result$IndicadorDsg),names_repair = ""minimal"")"
"0","    write_csv(d2,file = paste0(""datasets/"",numbers[i],"".csv""))"
"0","  }"
"0","   if (i %% 100 == 0) {"
"0","      Sys.sleep(60)"
"0","  }"
"0","}"
